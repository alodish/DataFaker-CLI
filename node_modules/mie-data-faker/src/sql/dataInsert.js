import connection from './connection.js';


export default async function dataInsert(data, table, i) {

    return new Promise((resolve, reject) => {
        connection.query(`INSERT into ${table} (??) VALUES (?)`,
        [
            Object.keys(data),
            Object.values(data),
        ],
        (err, results) => {
            if (err) {
                console.error(`Error querying the database: ${err.message}`);
                reject(err)
            } else {
                console.log(`Record ${i} inserted into ${table} table`)
                resolve(results);
            }
        });
    });
};
